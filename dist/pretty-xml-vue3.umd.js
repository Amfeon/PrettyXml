(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r["pretty-xml-vue3"]={},r.Vue))})(this,function(r,e){"use strict";const g={class:"element"},B=e.createElementVNode("span",{class:"element__bracket"},"</",-1),y={class:"element__name"},f=e.createElementVNode("span",{class:"element__bracket"},">",-1),E={__name:"CloseTag",props:{name:{type:String}},setup(t){return(o,s)=>(e.openBlock(),e.createElementBlock("div",g,[B,e.createElementVNode("span",y,e.toDisplayString(t.name),1),f]))}},u={class:"attribute"},N={class:"attribute__name"},b={class:"attribute__value"},C={key:0,class:"element__bracket--close"},S={__name:"AttributesComponent",props:{value:{type:String},name:{type:String},isLast:{type:Boolean}},setup(t){return(o,s)=>(e.openBlock(),e.createElementBlock("div",u,[e.createElementVNode("span",N,e.toDisplayString(t.name)+"= ",1),e.createElementVNode("span",b,' "'+e.toDisplayString(t.value)+'" ',1),t.isLast?(e.openBlock(),e.createElementBlock("span",C,">")):e.createCommentVNode("",!0)]))}},V={class:"element"},$=e.createElementVNode("span",{class:"element__bracket"},"<",-1),x={class:"element__attributes"},T={key:0,class:"element__bracket"},D={key:1,class:"element__bracket--close"},F={__name:"OpenTag",props:{attribures:{type:Array},isSelfClosing:{type:Boolean,default:!1},name:{type:String}},emits:["openClose"],setup(t){return(o,s)=>(e.openBlock(),e.createElementBlock("div",V,[$,e.createElementVNode("span",{class:"element__name",onClick:s[0]||(s[0]=n=>o.$emit("openClose"))},e.toDisplayString(t.name),1),e.createElementVNode("div",x,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.attribures,(n,l)=>(e.openBlock(),e.createBlock(S,{name:n.name,value:n.value,key:"attr"+l,"is-last":l===t.attribures.length-1,"is-self-closing":t.isSelfClosing},null,8,["name","value","is-last","is-self-closing"]))),128))]),t.isSelfClosing?(e.openBlock(),e.createElementBlock("span",T,"/")):e.createCommentVNode("",!0),t.attribures.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",D,">"))]))}},L={key:0,class:"tag__content"},O={key:0,class:"tag__child"},P={class:"remark__content"},X={key:0,class:"tag__content"},A={__name:"XmlTag",props:{node:Element,isShort:Boolean},setup(t){const o=t,s=e.computed(()=>o.node.nodeName),n=e.computed(()=>Array.from(o.node.childNodes)),l=e.computed(()=>n.value&&n.value.filter(c=>c.nodeType===1)),a=e.computed(()=>n.value&&n.value.filter(c=>c.nodeType===3)),p=e.computed(()=>n.value&&n.value.filter(c=>c.nodeType===4)),i=e.computed(()=>n.value&&n.value.filter(c=>c.nodeType===8)),w=e.computed(()=>o.node.attributes&&Array.from(o.node.attributes)||[]),_=e.ref(!0),M=e.computed(()=>!l.value.length&&a.value.length),k=!l.value.length&&!a.value.length&&!p.value.length&&!i.value.length,q=e.computed(()=>o.isShort&&M.value);return(c,h)=>{const z=e.resolveComponent("XmlTag",!0);return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag",{"tag--short":q.value}])},[e.createVNode(F,{name:s.value,"is-self-closing":e.unref(k),attribures:w.value,onOpenClose:h[0]||(h[0]=m=>_.value=!_.value)},null,8,["name","is-self-closing","attribures"]),_.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(m,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"content"+d},[m.nodeValue?(e.openBlock(),e.createElementBlock("div",L,e.toDisplayString(m.nodeValue),1)):e.createCommentVNode("",!0)],64))),128)),l.value.length?(e.openBlock(),e.createElementBlock("div",O,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(m,d)=>(e.openBlock(),e.createBlock(z,{key:`e${d}`,node:m,"is-short":t.isShort},null,8,["node","is-short"]))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(m,d)=>(e.openBlock(),e.createElementBlock("div",{class:"remark",key:"rem"+d},[e.createTextVNode(" <!-- "),e.createElementVNode("pre",P,e.toDisplayString(m.textContent),1),e.createTextVNode(" --> ")]))),128))])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(k)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",X,"..."))],64)),e.unref(k)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(E,{key:2,name:s.value},null,8,["name"]))],2)}}},j={__name:"PrettyXml",props:{xml:{type:String},options:{type:Object}},setup(t){const o=t,s=new DOMParser,n=e.ref(),l=a=>{const i=s.parseFromString(a,"application/xml").childNodes[0];n.value=i};return e.watch(()=>o.xml,a=>{l(a)}),l(o.xml),(a,p)=>{var i;return e.openBlock(),e.createBlock(A,{node:n.value,"is-short":(i=t.options)==null?void 0:i.shortRecord},null,8,["node","is-short"])}}};r.PrettyXml=j,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
